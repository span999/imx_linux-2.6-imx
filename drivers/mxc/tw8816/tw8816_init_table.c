/*
 * Driver for the TECHWELL TW8816 - LCD Falt Panel Processor (I2C bus)
 * Copyright (C) 2015 Span Liu, Mitac Inc.
*/

#ifdef CONFIG_TW8816_LCDIF_35MHZ_DOTCLK
	#define		_35MHZ_DCLK_
#endif	
#ifdef CONFIG_TW8816_LCDIF_30MHZ_DOTCLK
	#define		_30MHZ_DCLK_
#endif	

#define		_800x480_V_RESO		0x1E0	/* 480 */
#define		_800x480_H_RESO		0x320	/* 800 */
#define		_400x240_V_RESO		0x0F0	/* 240 */
#define		_400x240_H_RESO		0x190	/* 400 */


const tw8816RegDataSet preloadtbl_bypass[] = {
/*  reg Addr, reg Data */	
///R	{ 0x0001, 0x83 },
	{ 0x0034, 0x9A },
/* LCDC-input control*/
	{ 0x0040, 0x06 },
///	{ 0x0041, 0x22 },
	{ 0x0041, 0x02 },
	{ 0x0042, 0x04 },
	{ 0x0043, 0x00 },
	{ 0x0044, 0x0D },
	{ 0x0045, 0x3B },
	{ 0x0046, 0x20 },
	{ 0x0049, 0x30 },	/* input H-active Start[0:2]/End[4:7] high, high first */
///	{ 0x0047, 0x63 },	/* input H-active Start low */
///	{ 0x0047, 0x58 },	/* input H-active Start low */
	{ 0x0047, 0x56 },	/* input H-active Start low */
///	{ 0x0048, 0x83 },	/* input H-active End low */
///	{ 0x0048, 0x42 },	/* input H-active End low */
///	{ 0x0048, 0x78 },	/* input H-active End low */
	{ 0x0048, 0x76 },	/* input H-active End low */
	{ 0x004D, 0x34 },	/* input V-active Len high[4:6] & Start high-E[2:3]-O[0:1], high first */
#ifdef _35MHZ_DCLK_
	{ 0x004A, 0x4C },	/* input V-active Start low (Odd) */
#else
	#ifdef CONFIG_TW8816_400X240_OPTIMUM
///	{ 0x004A, 0x20 },	/* input V-active Start low (Odd) */
	{ 0x004A, 0x21 },	/* input V-active Start low (Odd) */
	#else
///	{ 0x004A, 0x14 },	/* input V-active Start low (Odd) */
///	{ 0x004A, 0x13 },	/* input V-active Start low (Odd) */
	{ 0x004A, 0x11 },	/* input V-active Start low (Odd) */
	#endif
#endif
	{ 0x004B, 0xF4 },	/* input V-active Start low (Even) */
///	{ 0x004C, 0x20 },	/* input V-active Len low */
	{ 0x004C, 0xEB },	/* input V-active Len low */
	{ 0x004E, 0x66 },
	{ 0x004F, 0x10 },
	{ 0x0050, 0x00 },
/* LCDC-scaling*/	
	{ 0x0060, 0x00 },
	{ 0x0061, 0x00 },
	{ 0x0062, 0x0D },
	{ 0x0063, 0x1B },
/* LCDC-image adjust */
	{ 0x0077, 0x30 },
	{ 0x0078, 0x30 },
/* */
	{ 0x008A, 0x0A },
	{ 0x008B, 0x04 },
	{ 0x0091, 0x06 },
/* LCDC-OSD*/	
	{ 0x0093, 0x06 },
	{ 0x0095, 0x40 },
	{ 0x0097, 0x00 },
	{ 0x0098, 0xAF },
	{ 0x009A, 0xA9 },
/* LCDC-display control */	
	{ 0x00B0, 0x48 },
	{ 0x00B1, 0x02 },
///	{ 0x00B6, 0x37 },	/* FPDE_ACTIVE_HI[4:6], FPHS_PERIOD_HI[0:3] */
	{ 0x00B6, (((_800x480_H_RESO>>8)&0x07)<<4)|0x07 },	/* FPDE_ACTIVE_HI[4:6], FPHS_PERIOD_HI[0:3] */
	{ 0x00B2, 0xD1 },	/* FPHS_PERIOD_LO, H dots 889~928~1143 */
///	{ 0x00B3, 0x0E },	/* FPHS_ACTIVE_PW, HS pulse width 1~48~255 */
///	{ 0x00B3, 0x03 },	/* FPHS_ACTIVE_PW, HS pulse width 1~48~255 */
	{ 0x00B3, 0x30 },	/* FPHS_ACTIVE_PW, HS pulse width 1~48~255 */
///	{ 0x00B4, 0x4A },	/* FP_H_BACK_PORCH, HS back porch 88~88~88 */
///	{ 0x00B4, 0x36 },	/* FP_H_BACK_PORCH */	/* for timesys */
///	{ 0x00B4, 0x18 },	/* FP_H_BACK_PORCH */	/* for yocto */
#ifdef _35MHZ_DCLK_
	{ 0x00B4, 0x4D },	/* FP_H_BACK_PORCH */	/* for yocto */
#else
///	{ 0x00B4, 0x4F },	/* FP_H_BACK_PORCH */	/* for yocto */
///	{ 0x00B4, 0x58 },	/* FP_H_BACK_PORCH */	/* for yocto */
	{ 0x00B4, 0x29 },	/* FP_H_BACK_PORCH */	/* for yocto */
#endif
///	{ 0x00B5, 0x20 },	/* FPDE_ACTIVE_LO, H resolution 800 */
	{ 0x00B5, (_800x480_H_RESO&0xFF) },	/* FPDE_ACTIVE_LO, H resolution 800 */
///	{ 0x00BB, 0x12 },	/* FP_V_ACTIVE_HI[4:6], FPVS_PERIOD_HI[0:3] */
	{ 0x00BB, (((_800x480_V_RESO>>8)&0x07)<<4)|0x02 },	/* FP_V_ACTIVE_HI[4:6], FPVS_PERIOD_HI[0:3] */
	{ 0x00B7, 0x31 },	/* FPVS_PERIOD_LO, V lines 513~525~767 */
	{ 0x00B8, 0x03 },	/* FPVS_ACTIVE_PW, VS pulse width 3~3~255 */
///	{ 0x00B9, 0x08 },	/* FP_V_BACK_PORCH, VS back porch 32~32~32 */
///	{ 0x00B9, 0x02 },	/* FP_V_BACK_PORCH */
#ifdef _35MHZ_DCLK_
	{ 0x00B9, 0x09 },	/* FP_V_BACK_PORCH */
#else
	#ifdef CONFIG_TW8816_400X240_OPTIMUM
///	{ 0x00B9, 0x18 },	/* FP_V_BACK_PORCH */
	{ 0x00B9, 0x19 },	/* FP_V_BACK_PORCH */
	#else
///	{ 0x00B9, 0x0B },	/* FP_V_BACK_PORCH */
	{ 0x00B9, 0x09 },	/* FP_V_BACK_PORCH */
	#endif
#endif
///	{ 0x00BA, 0xE0 },	/* FP_V_ACTIVE_LO, V resolution 480 */
	{ 0x00BA, (_800x480_V_RESO&0xFF) },	/* FP_V_ACTIVE_LO, V resolution 480 */
	{ 0x00BC, 0x21 },
	{ 0x00BD, 0x08 },
	{ 0x00BE, 0x42 },
	{ 0x00BF, 0x00 },
/* LDAC channel */
	{ 0x00C9, 0x09 },
	{ 0x00CA, 0x09 },
/* LCDC status & interrutp */
	{ 0x00D0, 0x41 },
	{ 0x00D1, 0x48 },
	{ 0x00D2, 0xFF },
	{ 0x00D3, 0x87 },
/* LCDC power managerment */	
	{ 0x00D5, 0x3F },
/* LCDC gamma */	
	{ 0x00F0, 0x01 },
	{ 0x00F1, 0x01 },
	{ 0x00F2, 0xAA },
	{ 0x00F3, 0x00 },
/* */
	{ 0x00F8, 0x9F },
	{ 0x00FA, 0x78 },
	{ 0x00FB, 0x0F },
	{ 0x00FE, 0x50 },
/* GPO */
///R	{ 0x0157, 0x00 },
///R	{ 0x0158, 0xDD },
///R	{ 0x0159, 0x07 },
/* TCON */
	{ 0x017B, 0x0D },
	{ 0x0182, 0x03 },
	{ 0x0184, 0x77 },
	{ 0x018D, 0x00 },
	{ 0x018E, 0x02 },
	{ 0x018F, 0x0B },
	{ 0x0190, 0x00 },
	{ 0x0191, 0xC2 },
	{ 0x0192, 0x00 },
	{ 0x0193, 0xC2 },
	{ 0x0194, 0x00 },
	{ 0x0195, 0x03 },
	{ 0x0196, 0x00 },
	{ 0x019B, 0xC8 },
	{ 0x019D, 0x01 },
	{ 0x01A0, 0x02 },
	{ 0x01A1, 0x80 },
	{ 0x01A2, 0x00 },
	{ 0x01A3, 0x58 },
	{ 0x01A4, 0x00 },
	{ 0x01A5, 0x1C },
	{ 0x01A6, 0x00 },
	{ 0x01AD, 0x4B },
	{ 0x01AF, 0x6F },
/* ADC/LLPL */	
	{ 0x01C1, 0xC7 },
	{ 0x01C2, 0x01 },
	{ 0x01CF, 0x24 },
/* other */
///R	{ 0x01F5, 0xF8 },
///R	{ 0x01F7, 0xE8 },

	{ 0x00FF, 0x00 },
	{ 0x1000, 0x00 }	/* stop data */
};


const tw8816RegDataSet preloadtbl_400x240[] = {
/*  reg Addr, reg Data */	
///R	{ 0x0001, 0x93 },
	{ 0x0034, 0x9A },
/* LCDC-input control*/
	{ 0x0040, 0x06 },
	{ 0x0041, 0x02 },
	{ 0x0042, 0x04 },
	{ 0x0043, 0x00 },
	{ 0x0044, 0x0D },
	{ 0x0045, 0x3B },
	{ 0x0046, 0x20 },
	{ 0x0049, 0x30 },	/* input H-active Start/End high, high first */
///	{ 0x0047, 0x4D },	/* input H-active Start low */
	{ 0x0047, 0x4B },	/* input H-active Start low */
#ifdef _35MHZ_DCLK_
	{ 0x0048, 0x05 },	/* input H-active End low */
#else
	{ 0x0048, 0x78 },	/* input H-active End low */
#endif
#ifdef _35MHZ_DCLK_
	{ 0x004D, 0x20 },	/* input V-active Len high[4:6] & Start high-E[2:3]-O[0:1], high first */
#else
	{ 0x004D, 0x10 },	/* input V-active Len high[4:6] & Start high-E[2:3]-O[0:1], high first */
#endif
///	{ 0x004A, 0x05 },	/* input V-active Start low (Odd) */
#ifdef CONFIG_TW8816_400X240_OPTIMUM
	/* 400x240, upper_margin=29, lower_margin=16 */
///	{ 0x004A, 0x0B },	/* input V-active Start low (Odd) */
	{ 0x004A, 0x16 },	/* input V-active Start low (Odd) */ /* bug fixed by Allen */
#else
	/* 800x480, upper_margin=13, lower_margin=32 */
	#ifdef _35MHZ_DCLK_
	{ 0x004A, 0x04 },	/* input V-active Start low (Odd) */
	#else
	{ 0x004A, 0x06 },	/* input V-active Start low (Odd) */
	#endif
#endif
	{ 0x004B, 0x54 },	/* input V-active Start low (Even) */
#ifdef _35MHZ_DCLK_
	{ 0x004C, 0x2D },	/* input V-active Len low */
#else
	{ 0x004C, 0xF0 },	/* input V-active Len low */
#endif
	{ 0x004E, 0x66 },
	{ 0x004F, 0x10 },
	{ 0x0050, 0x00 },
/* LCDC-scaling*/	
	{ 0x0060, 0x00 },
	{ 0x0061, 0x00 },
	{ 0x0062, 0x00 },
	{ 0x0063, 0x0B },
/* LCDC-image adjust */
	{ 0x0077, 0x30 },
	{ 0x0078, 0x30 },
/* */
	{ 0x008A, 0x0A },
	{ 0x008B, 0x04 },
	{ 0x0091, 0x06 },
/* LCDC-OSD*/	
	{ 0x0093, 0x06 },
	{ 0x0095, 0x40 },
	{ 0x0097, 0x00 },
	{ 0x0098, 0xAF },
	{ 0x009A, 0xA9 },
/* LCDC-display control */	
	{ 0x00B0, 0x48 },
	{ 0x00B1, 0x02 },
///	{ 0x00B6, 0x13 },	/* FPDE_ACTIVE_HI[4:6], FPHS_PERIOD_HI[0:3] */
	{ 0x00B6, (((_400x240_H_RESO>>8)&0x07)<<4)|0x03 },	/* FPDE_ACTIVE_HI[4:6], FPHS_PERIOD_HI[0:3] */
	{ 0x00B2, 0x24 },	/* FPHS_PERIOD_LO */
///	{ 0x00B3, 0x59 },	/* FPHS_ACTIVE_PW */
	{ 0x00B3, 0x49 },	/* FPHS_ACTIVE_PW */
///	{ 0x00B4, 0x83 },	/* FP_H_BACK_PORCH */
	{ 0x00B4, 0x16 },	/* FP_H_BACK_PORCH */
///	{ 0x00B5, 0xC2 },	/* FPDE_ACTIVE_LO */
///	{ 0x00B5, 0x90 },	/* FPDE_ACTIVE_LO */
	{ 0x00B5, (_400x240_H_RESO&0xFF) },	/* FPDE_ACTIVE_LO */
///	{ 0x00BB, 0x02 },	/* FP_V_ACTIVE_HI[4:6], FPVS_PERIOD_HI[0:3] */
///	{ 0x00BB, 0x00 },	/* FP_V_ACTIVE_HI[4:6], FPVS_PERIOD_HI[0:3] */
	{ 0x00BB, (((_400x240_V_RESO>>8)&0x07)<<4)|0x00 },	/* FP_V_ACTIVE_HI[4:6], FPVS_PERIOD_HI[0:3] */
///	{ 0x00B7, 0x0D },	/* FPVS_PERIOD_LO */
	{ 0x00B7, 0xAD },	/* FPVS_PERIOD_LO */
///	{ 0x00B8, 0x03 },	/* FPVS_ACTIVE_PW 0xF8 or 0x01 */
	{ 0x00B8, 0x01 },	/* FPVS_ACTIVE_PW */
///	{ 0x00B9, 0x04 },	/* FP_V_BACK_PORCH */
	{ 0x00B9, 0x0F },	/* FP_V_BACK_PORCH */
///	{ 0x00BA, 0xF0 },	/* FP_V_ACTIVE_LO */
	{ 0x00BA, (_400x240_V_RESO&0xFF) },	/* FP_V_ACTIVE_LO */
	{ 0x00BC, 0x21 },
	{ 0x00BD, 0x08 },
	{ 0x00BE, 0x42 },
	{ 0x00BF, 0x00 },
/* LDAC channel */
	{ 0x00C9, 0x09 },
	{ 0x00CA, 0x09 },
/* LCDC status & interrutp */
	{ 0x00D0, 0x89 },
	{ 0x00D1, 0x4C },
	{ 0x00D2, 0xFF },
	{ 0x00D3, 0x87 },
/* LCDC power managerment */	
	{ 0x00D5, 0x3F },
/* LCDC gamma */	
	{ 0x00F0, 0x01 },
	{ 0x00F1, 0x01 },
	{ 0x00F2, 0xAA },
	{ 0x00F3, 0x00 },
/* */
	{ 0x00F8, 0x9F },
	{ 0x00FA, 0x75 },
	{ 0x00FB, 0x0F },
	{ 0x00FE, 0x50 },
/* GPO */
///R	{ 0x0157, 0x69 },
///R	{ 0x0158, 0x3C },
///R	{ 0x0159, 0x03 },
/* TCON */
	{ 0x017B, 0x0D },
	{ 0x0182, 0x03 },
	{ 0x0184, 0x77 },
	{ 0x018D, 0x00 },
	{ 0x018E, 0x02 },
	{ 0x018F, 0x0B },
	{ 0x0190, 0x00 },
	{ 0x0191, 0xC2 },
	{ 0x0192, 0x00 },
	{ 0x0193, 0xC2 },
	{ 0x0194, 0x00 },
	{ 0x0195, 0x03 },
	{ 0x0196, 0x00 },
	{ 0x019B, 0xC8 },
	{ 0x019D, 0x01 },
	{ 0x01A0, 0x02 },
	{ 0x01A1, 0x80 },
	{ 0x01A2, 0x00 },
	{ 0x01A3, 0x58 },
	{ 0x01A4, 0x00 },
	{ 0x01A5, 0x1C },
	{ 0x01A6, 0x00 },
	{ 0x01AD, 0x4B },
	{ 0x01AF, 0x6F },
/* ADC/LLPL */	
	{ 0x01C1, 0xC7 },
	{ 0x01C2, 0x01 },
	{ 0x01CF, 0x24 },
/* other */
///R	{ 0x01F5, 0xE8 },
///R	{ 0x01F7, 0xE8 },

	{ 0x00FF, 0x00 },
	{ 0x1000, 0x00 }	/* stop data */
};


/* _E_O_F_ */
